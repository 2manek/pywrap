// pybind 11 related includes
#include <pybind11/pybind11.h>
#include <pybind11/stl.h>

namespace py = pybind11;

// forward declaration of the register_* functions

{% for mod in modules %}
void register_{{mod}}_enums(py::module&);
{% endfor %}

{% for mod in modules %}
void register_{{mod}}(py::module&);
{% endfor %}

// main module definiiton
PYBIND11_MODULE({{name}}, m) {    

// register submodules

{% for mod in modules %}
    register_{{mod}}_enum(m);
{% endfor %}

{% for mod in modules %}
    register_{{mod}}(m);
{% endfor %}

}